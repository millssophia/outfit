 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Photo Viewer with Drag-and-Drop</title>
  <style>
    body {
      font-family: Georgia, serif;
      font-size: 16px;
      letter-spacing: 1.2px;
      background-color: #362200;
      color: #452c00;
      font-weight: 700;
      text-transform: uppercase;
    }

    .container {
	  margin: 0 auto;
      text-align: center;
      background-color: #F8E9D0;
      padding: 30px;
      border-radius: 30px;
      width: 90%;
      
    }

    h1 {
      margin-bottom: 20px;
      color: #362200;
    }
    
    
    select {
      font-family: Impact, serif;
      font-size: 10px;
      color: #362200;
      background-color: #F8E9D0;
      text-transform: none;
      border: none;
    }

    select:hover {
      background-color: #362200;
      color: #F8E9D0;
      border-radius: 5px;
    }


	a:hover {
	  color: #FFFFFF; /* Change text color to white */
	  transform: scale(1.05); /* Add a slight zoom effect */
	}
	
	a:active {
	  transform: scale(0.95); /* Add a "pressed" effect */
	}
    .image-gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 20px;
    }

    .image-gallery img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      margin: 10px;
      cursor: pointer;
      border-radius: 5px;
      transition: transform 0.3s ease;
    }

    .image-gallery img:hover {
      transform: scale(1.1);
    }

    #canvas {
	  margin: 0 auto;
      position: relative;
      width: 75%;
      height: 400px;
      border: 2px dashed #FF9999;
      border-radius: 10px;
      overflow: hidden;
      background: transparent;      
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #canvas p {
      color: #FF9999;
      font-size: 1.2em;
    }

    .draggable {
      position: absolute;
      max-width: 150px;
      max-height: 150px;
      cursor: grab;
      user-select: none;
    }

    .draggable:active {
      cursor: grabbing;
    }

    /* Hide the gallery by default */
    .hidden {
      display: none;
    }

    button {
      background-color: #4f3100;
      text-transform: uppercase;
      border-radius: 5px;
      border: 1px solid #362200;
      display: inline-block;
      cursor: pointer;
      color: #ffffff;
      font-family: Impact;
      font-size: 10px;
      padding: 6px 3px;
      text-decoration: none;
      margin: 10px
    }
    
    button:hover {
    background-color: #7e4400;
    }
    
    button:active {
    padding: 4px 2px;
    }

    #showTopsButton, #showBottomsButton, #showOtherButton {
      display: inline-block;
      cursor: pointer;
      text-transform: capitalize;
      color: #ffffff;
      font-family: Georgia;
      font-size: 17px;
      font-weight: bold;
      padding: 10px 37px;
      text-decoration: none;
      text-shadow: 3px 3px 0px #528ecc;
      margin: 10px;
      margin-bottom: 10px;
      background-color: #FFCCCB;
      text-shadow: 3px 3px 0px #FF9999;
      box-shadow: 4px 4px 0px 0px #FF9999;
      border: 1px solid #FF9999;
      border-radius: 0px;
    }
    
    #showTopsButton:hover, #showBottomsButton:hover, #showOtherButton:hover {
    	border: none;
    }
    
    #showTopsButton:active, #showBottomsButton:active, #showOtherButton:active {
	  background-color: #FFCCCB;
	  box-shadow: 2px 2px #FF9999;
	  transform: translateY(2px);
	  transform: translateX(2px);
    }
    
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" style="
      display: inline-block;
      margin: 15px;
      text-decoration: none;
      color: #362200;
      font-size: 1rem;
      transition: background-color 0.3s ease;">
      Back to Home
    </a>
    <a href="view-arrangements.html" style="
      display: inline-block;
      margin: 15px;
      text-decoration: none;
      color: #362200;
      font-size: 1rem;
      transition: background-color 0.3s ease;">
      view saved outfits
    </a>
    <h1>Clothes Drag-and-Drop Viewer</h1>

    <!-- Buttons for Tops, Bottoms, and Other categories -->
    <button id="showTopsButton">Tops</button>
    <button id="showBottomsButton">Bottoms</button>
    <button id="showOtherButton">Other</button>

    <!-- Subcategory buttons for Tops -->
    <div id="topsButtons" class="hidden">
      <button data-folder="tubeTops">Tube Tops</button>
      <button data-folder="tankTops">Tank Tops</button>
      <button data-folder="teeShirts">Tee Shirts</button>
      <button data-folder="longSleeves">Long Sleeves</button>
      <button id="viewAllTops">All Tops</button>
    </div>

    <!-- Subcategory buttons for Bottoms -->
    <div id="bottomsButtons" class="hidden">
      <button data-folder="jeans">Jeans</button>
      <button data-folder="skirts">Skirts</button>
      <button data-folder="otherPants">Other Pants</button>
      <button data-folder="shorts">Shorts</button>
      <button id="viewAllBottoms">All Bottoms</button>
    </div>

    <!-- Subcategory buttons for Other -->
    <div id="otherButtons" class="hidden">
      <button data-folder="jackets">Jackets</button>
      <button data-folder="shoes">Shoes</button>
    </div>

    <!-- Displaying image thumbnails -->
    <div class="image-gallery" id="imageGallery">
      <!-- Thumbnails will be dynamically inserted here -->
    </div>

    <!-- Drag-and-drop canvas -->
    <div id="canvas">
      <p>clothes go here!</p>
    </div>
  </div>
<script>
  const imageGallery = document.getElementById('imageGallery');
    const canvas = document.getElementById('canvas');

    // Buttons for Tops, Bottoms, and Other categories
    const showTopsButton = document.getElementById('showTopsButton');
    const showBottomsButton = document.getElementById('showBottomsButton');
    const showOtherButton = document.getElementById('showOtherButton');
	
    // Buttons for cloud save
    const uploadCloudButton = document.getElementById('uploadCloudButton');
     const uploadGoogleButton = document.getElementById('uploadGoogleButton');

    // Subcategory buttons
    const topsButtons = document.getElementById('topsButtons');
    const bottomsButtons = document.getElementById('bottomsButtons');
    const otherButtons = document.getElementById('otherButtons');
    const viewAllTopsButton = document.getElementById('viewAllTops');
    const viewAllBottomsButton = document.getElementById('viewAllBottoms');
    const viewAllOtherButton = document.getElementById('viewAllOther');

    // Folders for each category
    const folders = {
      tops: ['tubeTops', 'tankTops', 'teeShirts', 'longSleeves'],
      bottoms: ['jeans', 'skirts', 'otherPants', 'shorts'],
      other: ['jackets', 'shoes']
    };

     // Function to display the images as thumbnails
    function displayThumbnails(folderNames) {
      imageGallery.innerHTML = ''; // Clear the gallery

      folderNames.forEach(folder => {
        for (let i = 1; i <= 100; i++) {
          const imgElement = document.createElement('img');
          const imgSrc = `images/${folder}/${i}.png`;

          // Create a new image to check if the photo exists
          const img = new Image();
          img.src = imgSrc;

          img.onload = function() {
            // If image is loaded successfully, add it to the gallery
            imgElement.src = imgSrc;
            imgElement.alt = `${folder} ${i}`;
            imgElement.onclick = () => addImageToCanvas(imgSrc);

            imageGallery.appendChild(imgElement);
          };

          img.onerror = function() {
            // If the image can't be loaded, break the loop for this folder
            console.log(`No ${i}.png found in ${folder}. Stopping further attempts.`);
            return;  // Break the loop by returning early
          };
        }
      });
    }


    function addImageToCanvas(imageSrc) {
      const imgContainer = createPhotoContainer(imageSrc);
      canvas.appendChild(imgContainer);
    }

    // Create photo container with drag functionality
    function createPhotoContainer(photoSrc) {
      const container = document.createElement('div');
      container.classList.add('draggable-container');

      // Set random initial position for the container
      container.style.position = 'absolute';
      container.style.left = `${Math.random() * (canvas.offsetWidth - 100)}px`;
      container.style.top = `${Math.random() * (canvas.offsetHeight - 100)}px`;

      // Create the image
      const img = document.createElement('img');
      img.src = photoSrc;
      img.classList.add('draggable');

      // Disable default drag behavior to avoid copying
      img.setAttribute('draggable', 'false');

      // Add drag-and-drop functionality
      container.addEventListener('mousedown', onDragStart);
      //prevent scroll on touch
      container.addEventListener('touchstart', onDragStart);

      // Double-click to delete photo
      container.addEventListener('dblclick', () => {
        container.remove();
      });

      // Append the image to the container
      container.appendChild(img);

      return container;
    }

    // Drag-and-drop logic
    let draggedElement = null;

    function onDragStart(event) {
       event.preventDefault(); //prevent scroll while dragging on touch devices
      const container = event.currentTarget; // Target the container, not the image
      draggedElement = container;

      // Get the offset between the mouse and the container
        let offsetX, offsetY;
        if (event.type === 'touchstart') {
            const touch = event.touches[0];
            const rect = container.getBoundingClientRect();
           offsetX = touch.clientX - rect.left;
            offsetY = touch.clientY - rect.top;
        } else {
            const rect = container.getBoundingClientRect();
            offsetX = event.clientX - rect.left;
            offsetY = event.clientY - rect.top;
        }
    


      // Move the element as the mouse moves
      function onMouseMove(e) {
        e.preventDefault(); // prevent scroll while dragging
        const canvasRect = canvas.getBoundingClientRect();
          let x, y;
          if (e.type === 'touchmove') {
            const touch = e.touches[0];
             x = touch.clientX - canvasRect.left - offsetX;
            y = touch.clientY - canvasRect.top - offsetY;
          } else {
               x = e.clientX - canvasRect.left - offsetX;
               y = e.clientY - canvasRect.top - offsetY;
          }
       

        // Constrain the element within the canvas
        x = Math.max(0, Math.min(x, canvas.offsetWidth - container.offsetWidth));
        y = Math.max(0, Math.min(y, canvas.offsetHeight - container.offsetHeight));

        container.style.left = `${x}px`;
        container.style.top = `${y}px`;
      }

      // Clean up when the mouse is released
      function onMouseUp() {
           document.removeEventListener('mousemove', onMouseMove);
           document.removeEventListener('mouseup', onMouseUp);
            document.removeEventListener('touchmove', onMouseMove);
           document.removeEventListener('touchend', onMouseUp);
      }
        
        if (event.type === 'touchstart') {
            document.addEventListener('touchmove', onMouseMove, { passive: false });
            document.addEventListener('touchend', onMouseUp);

        } else {
              document.addEventListener('mousemove', onMouseMove);
             document.addEventListener('mouseup', onMouseUp);
        }

    }

    // Event listeners for category buttons
    showTopsButton.addEventListener('click', () => {
      topsButtons.classList.toggle('hidden');
      bottomsButtons.classList.add('hidden'); // Hide bottoms buttons if open
      otherButtons.classList.add('hidden'); // Hide other buttons if open
      imageGallery.innerHTML = ''; // Clear gallery when switching
    });

    showBottomsButton.addEventListener('click', () => {
      bottomsButtons.classList.toggle('hidden');
      topsButtons.classList.add('hidden'); // Hide tops buttons if open
      otherButtons.classList.add('hidden'); // Hide other buttons if open
      imageGallery.innerHTML = ''; // Clear gallery when switching
    });

    showOtherButton.addEventListener('click', () => {
      otherButtons.classList.toggle('hidden');
      topsButtons.classList.add('hidden'); // Hide tops buttons if open
      bottomsButtons.classList.add('hidden'); // Hide bottoms buttons if open
      imageGallery.innerHTML = ''; // Clear gallery when switching
    });

    // Event listener for subcategory buttons
    topsButtons.addEventListener('click', (e) => {
      if (e.target.dataset.folder) {
        displayThumbnails([e.target.dataset.folder]);
      }
    });

    bottomsButtons.addEventListener('click', (e) => {
      if (e.target.dataset.folder) {
        displayThumbnails([e.target.dataset.folder]);
      }
    });

    otherButtons.addEventListener('click', (e) => {
      if (e.target.dataset.folder) {
        displayThumbnails([e.target.dataset.folder]);
      }
    });

    // View all tops
    viewAllTopsButton.addEventListener('click', () => {
      displayThumbnails(folders.tops);
    });

    // View all bottoms
    viewAllBottomsButton.addEventListener('click', () => {
      displayThumbnails(folders.bottoms);
    });
    
  const saveDatabaseButton = document.createElement('button');
  saveDatabaseButton.textContent = "Save Outfit";
  saveDatabaseButton.style.margin = "10px";
  document.querySelector('.container').appendChild(saveDatabaseButton);

  const loadDatabaseButton = document.createElement('button');
  loadDatabaseButton.textContent = "Load Outfit";
  loadDatabaseButton.style.margin = "10px";
  document.querySelector('.container').appendChild(loadDatabaseButton);

  const databaseSelect = document.createElement('select');
  databaseSelect.style.margin = "10px";
  document.querySelector('.container').appendChild(databaseSelect);
    
    const loadFileButton = document.createElement('button');
    loadFileButton.textContent = "Load From File";
    loadFileButton.style.margin = "10px";
    document.querySelector('.container').appendChild(loadFileButton);

    // Add an input file element (hidden) to handle file selection
    const fileInput = document.createElement('input');
    fileInput.type = 'file';
    fileInput.style.display = 'none'; // hide the input visually
    fileInput.accept = '.json'; // only accept json
    document.querySelector('.container').appendChild(fileInput);

    const googleButton = document.createElement('button');
    googleButton.textContent = "Save to Google Drive";
    googleButton.style.margin = "10px";
    document.querySelector('.container').appendChild(googleButton);

  // Initialize the database in localStorage
  if (!localStorage.getItem('photoArrangementsDB')) {
    localStorage.setItem('photoArrangementsDB', JSON.stringify({}));
  }

  // Populate the dropdown with saved arrangements
  function updateDatabaseDropdown() {
    const database = JSON.parse(localStorage.getItem('photoArrangementsDB'));
    databaseSelect.innerHTML = '<option value="">pick outfit</option>';
    Object.keys(database).forEach((key) => {
      const option = document.createElement('option');
      option.value = key;
      option.textContent = key;
      databaseSelect.appendChild(option);
    });
  }

  updateDatabaseDropdown();
    
  // Helper function to trigger the file input
   function triggerFileInput() {
        fileInput.click();
    }
    
  // Function to handle loading the outfit from json
    function loadOutfitFromFile(event) {
            const file = event.target.files[0];
            if (!file) {
                return alert("No file selected!");
            }

            const reader = new FileReader();
            reader.onload = (e) => {
               try {
                   const savedOutfitData = JSON.parse(e.target.result);

                    // Clear canvas
                    canvas.innerHTML = '<p>clothes go here!</p>';

                     if (savedOutfitData && savedOutfitData.arrangement) {
                        savedOutfitData.arrangement.forEach(item => {
                            const imgContainer = createPhotoContainer(item.src);
                            imgContainer.style.left = item.left;
                            imgContainer.style.top = item.top;
                            canvas.appendChild(imgContainer);
                        });
                    } else {
                        alert("Invalid outfit data in the selected file.");
                    }
                } catch (error) {
                    alert("Error loading the file");
                    console.error("Error loading outfit data:", error);
                }

            };
        reader.readAsText(file); // Read the file as text
        }

    fileInput.addEventListener('change', loadOutfitFromFile);
  
   // Function to create the download
     function downloadOutfit(data, name) {
        const jsonString = JSON.stringify(data, null, 2);
        const blob = new Blob([jsonString], {type: 'application/json'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = name;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url); //cleanup
    }
    
    //upload to cloud function
    async function uploadOutfit(data, name) {
        const API_ENDPOINT = 'YOUR_API_ENDPOINT'; // Replace with your actual API endpoint URL

        try {
            const response = await fetch(API_ENDPOINT, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    // Add any additional headers (e.g., authorization tokens) if needed
                },
                body: JSON.stringify(data),
            });

            if (!response.ok) {
              const error = await response.json();
                throw new Error(`HTTP error! status: ${response.status} ${error.message}`);
            }

            const result = await response.json(); //if endpoint returns JSON

            alert(`Outfit "${name}" uploaded successfully to cloud!`);
            console.log('Upload successful:', result); // Optional: Log the response from server

        } catch (error) {
            alert(`Error uploading outfit: ${error.message}`);
            console.error('Upload failed:', error);
        }
    }

saveDatabaseButton.addEventListener('click', () => {
  const name = prompt("Enter a name for this arrangement:");
  if (!name) return alert("Arrangement name is required!");


  // Collect additional metadata
  const tags = prompt("Enter tags or notes for this arrangement (optional):");
  const timestamp = new Date().toISOString();

  // Collect photo data (ensure it's in array format)
  const photos = Array.from(canvas.querySelectorAll('.draggable-container'));
  const arrangement = photos.map(photo => {
    const img = photo.querySelector('img');
    return {
      src: img.src,
      left: photo.style.left,
      top: photo.style.top,
    };
  });

  const outfitData = {
        arrangement: arrangement,
        tags: tags,
        timestamp: timestamp,
  };
    
  downloadOutfit(outfitData, name + '.json');
    

   // Store in localStorage
    let database = JSON.parse(localStorage.getItem('photoArrangementsDB'));
    if (!database) {
        database = {};
    }
    if (database[name]) {
      const overwrite = confirm(`An arrangement named "${name}" already exists. Do you want to overwrite it?`);
        if (!overwrite) return; // Exit if the user chooses not to overwrite
    }
    database[name] = {
      local:  outfitData,
    };
   localStorage.setItem('photoArrangementsDB', JSON.stringify(database));
  updateDatabaseDropdown();
    

  alert(`Outfit "${name}" saved locally and as a file!`);
});

    // Upload to Cloud button action
    uploadCloudButton.addEventListener('click', () => {
      const name = prompt("Enter a name for this arrangement:");
      if (!name) return alert("Arrangement name is required!");


      // Collect additional metadata
      const tags = prompt("Enter tags or notes for this arrangement (optional):");
      const timestamp = new Date().toISOString();

      // Collect photo data (ensure it's in array format)
      const photos = Array.from(canvas.querySelectorAll('.draggable-container'));
      const arrangement = photos.map(photo => {
        const img = photo.querySelector('img');
        return {
          src: img.src,
          left: photo.style.left,
          top: photo.style.top,
        };
      });

      const outfitData = {
        arrangement: arrangement,
          tags: tags,
          timestamp: timestamp,
      };


    uploadOutfit(outfitData, name);
      
       // Store in localStorage
    let database = JSON.parse(localStorage.getItem('photoArrangementsDB'));
    if (!database) {
        database = {};
    }
      if (database[name]) {
          const overwrite = confirm(`An arrangement named "${name}" already exists. Do you want to overwrite it?`);
        if (!overwrite) return; // Exit if the user chooses not to overwrite
        }
        database[name] = {
          cloud:  outfitData
        };
      localStorage.setItem('photoArrangementsDB', JSON.stringify(database));
        updateDatabaseDropdown();

    });

    // Google Drive Upload Function
   async function uploadToGoogleDrive(data, name) {
        const CLIENT_ID = 'YOUR_GOOGLE_CLIENT_ID'; // Replace with your actual client ID
        const API_KEY = 'YOUR_GOOGLE_API_KEY';
        const FOLDER_ID = "YOUR_GOOGLE_DRIVE_FOLDER_ID";
        const DISCOVERY_DOCS = ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'];
        const SCOPES = 'https://www.googleapis.com/auth/drive.file';

        // Function to handle Google Sign-In
         async function handleGoogleSignIn() {
            return new Promise((resolve, reject) => {
                gapi.load('client:auth2', async () => {
                   await gapi.client.init({
                      apiKey: API_KEY,
                       clientId: CLIENT_ID,
                       discoveryDocs: DISCOVERY_DOCS,
                        scope: SCOPES
                    });

                    gapi.auth2.getAuthInstance().signIn().then(
                        () => resolve(gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token),
                        (error) => reject(error)
                    );
                });
            });
        }
        
          const accessToken = await handleGoogleSignIn();
          
        try {
                const jsonString = JSON.stringify(data, null, 2);
                const blob = new Blob([jsonString], {type: 'application/json'});
                const fileMetadata = {
                    name: name + ".json",
                    parents: [FOLDER_ID]
                 };
              
                const form = new FormData();
                 form.append('metadata', new Blob([JSON.stringify(fileMetadata)], { type: 'application/json' }));
                form.append('file', blob);


                const response = await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart", {
                    method: 'POST',
                    headers: new Headers({
                      'Authorization': 'Bearer ' + accessToken,
                  }),
                  body: form,
                });
                
               

                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(`Google Drive upload failed: ${response.status} ${error.error.message}`);
                }

              
              const result = await response.json();
             alert('Outfit uploaded to Google Drive!');
            console.log("success", result);
        
          // Store in localStorage
              let database = JSON.parse(localStorage.getItem('photoArrangementsDB'));
                if (!database) {
                  database = {};
                }
              if (database[name]) {
                  const overwrite = confirm(`An arrangement named "${name}" already exists. Do you want to overwrite it?`);
                  if (!overwrite) return; // Exit if the user chooses not to overwrite
              }
              database[name] = {
              google: data,
                  fileID: result.id,
              };
              localStorage.setItem('photoArrangementsDB', JSON.stringify(database));
          updateDatabaseDropdown();
        } catch (error) {
            alert('Error uploading to Google Drive: ' + error.message);
            console.error('Google Drive upload error:', error);
        }
    }
        
        googleButton.addEventListener('click', async () => {
           const name = prompt("Enter a name for this arrangement:");
            if (!name) return alert("Arrangement name is required!");


            // Collect additional metadata
            const tags = prompt("Enter tags or notes for this arrangement (optional):");
            const timestamp = new Date().toISOString();

            // Collect photo data (ensure it's in array format)
            const photos = Array.from(canvas.querySelectorAll('.draggable-container'));
            const arrangement = photos.map(photo => {
                const img = photo.querySelector('img');
                return {
                    src: img.src,
                    left: photo.style.left,
                    top: photo.style.top,
                };
            });
             const outfitData = {
            arrangement: arrangement,
                tags: tags,
                timestamp: timestamp,
        };
         await uploadToGoogleDrive(outfitData, name);
        });


  // Load arrangement from database
loadDatabaseButton.addEventListener('click', () => {
    const selectedArrangement = databaseSelect.value;
    if (!selectedArrangement) return alert("Please select an arrangement to load!");

    const database = JSON.parse(localStorage.getItem('photoArrangementsDB'));
    const entry = database[selectedArrangement];
    
   // Load local storage data
    if(entry && entry.local){
          // Display metadata (optional)
          console.log(`Loading local arrangement: ${selectedArrangement}`);
          console.log(`Tags/Notes: ${entry.local.tags || "No tags"}`);
          console.log(`Saved on: ${entry.local.timestamp || "Unknown date"}`);

          // Clear the canvas and load the arrangement
          canvas.innerHTML = '<p>clothes go here!</p>';
          entry.local.arrangement.forEach(item => {
            const imgContainer = createPhotoContainer(item.src);
              imgContainer.style.left = item.left;
              imgContainer.style.top = item.top;
              canvas.appendChild(imgContainer);
        });
      } else if (entry && entry.cloud) {
         // Display metadata (optional)
          console.log(`Loading cloud arrangement: ${selectedArrangement}`);
          console.log(`Tags/Notes: ${entry.cloud.tags || "No tags"}`);
          console.log(`Saved on: ${entry.cloud.timestamp || "Unknown date"}`);

        // Clear the canvas and load the arrangement
          canvas.innerHTML = '<p>clothes go here!</p>';
          entry.cloud.arrangement.forEach(item => {
            const imgContainer = createPhotoContainer(item.src);
            imgContainer.style.left = item.left;
            imgContainer.style.top = item.top;
            canvas.appendChild(imgContainer);
          });
        } else if (entry && entry.google) {
            // Display metadata (optional)
            console.log(`Loading Google Drive arrangement: ${selectedArrangement}`);
            console.log(`Tags/Notes: ${entry.google.tags || "No tags"}`);
            console.log(`Saved on: ${entry.google.timestamp || "Unknown date"}`);

            // Clear the canvas and load the arrangement
            canvas.innerHTML = '<p>clothes go here!</p>';
           entry.google.arrangement.forEach(item => {
                const imgContainer = createPhotoContainer(item.src);
               imgContainer.style.left = item.left;
               imgContainer.style.top = item.top;
               canvas.appendChild(imgContainer);
            });
        } else {
         alert("Could not find a save by that name!")
       }

});
      
    // Handle loading outfit from file
    loadFileButton.addEventListener('click', triggerFileInput);
  </script>


</body>
</html>
