<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Outfit Log</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400;1,700&family=Press+Start+2P&family=Sloop+Script+Pro&display=swap"
    rel="stylesheet">
  <style>
        body {
            margin: 0;
            font-family: 'Press Start 2P', sans-serif;
            background-color: #f4c6d1;
            color: black;
            text-align: center;
            display: flex;
            flex-direction: column;
            /* Stack elements vertically */
            align-items: center;
            min-height: 100vh;
        }

        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 80%;
            max-width: 800px;
            margin: 20px auto 10px;
        }

        .container {
            position: relative;
            background-color: #f4c6d1;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 800px;
            margin: 10px auto;
            /* Center horizontally */
        }

    button {
      background-color: black;
      color: white;
      font-size: 0.8rem;
      padding: 6px 12px;
      border: none;
      border-radius: 20px;
      margin: 5px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      font-family: 'Playfair Display', serif;
      font-style: italic;
      margin: 10px;
    }

    button:hover {
      background-color: white;
      color: black;

    }

    h1 {

      font-size: 3rem;
      font-weight: bold;
      color: white;
      text-shadow: 3px 3px black;
      letter-spacing: 3px;
      margin-bottom: 10px;
    }

    h1.script {
      font-family: 'Sloop Script Pro', cursive;
      font-size: 5rem;
      font-weight: 700;
      color: black;
    }
    h2 {
	text-align: center;
    }
    .image-gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 10px;
    }

    .image-gallery img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      margin: 10px;
      cursor: pointer;
      border-radius: 5px;
      transition: transform 0.3s ease;
      transform: scale(0.5);
    }

    .image-gallery img:hover {
      transform: scale(0.7);
    }

    .outfit-log {
      margin-top: 10px;
      height: 300px;
      padding: 15px;
      border-radius: 10px;
      text-align: left;
      max-height: 300px;
      overflow-y: auto;
      font-size: 14px;
    }

    .outfit-log ul {
      list-style-type: none;
      padding: 0;
    }

    .outfit-log li {
      margin: 5px 0;
      display: flex;
      align-items: center;
    }

    .outfit-log img {
      margin-right: 10px;
    }

    button {
      background-color: #4f3100;
      text-transform: uppercase;
      border-radius: 5px;
      border: 1px solid #362200;
      display: inline-block;
      cursor: pointer;
      color: #ffffff;
      font-family: Impact;
      font-size: 10px;
      padding: 6px 3px;
      text-decoration: none;
      margin: 10px
    }
    
    button:hover {
    background-color: #7e4400;
    }
    


    #showTopsButton, #showBottomsButton, #showOtherButton {
      display: inline-block;
      cursor: pointer;
      text-transform: capitalize;
      color: white;
      font-family: 'Press Start 2P', cursive;
      font-size: 1rem;
      font-weight: bold;
      padding: 8px 16px;
      text-decoration: none;
      background-color: black;
      text-shadow: 2px 2px #f4c6d1;
      box-shadow: 4px 4px 0px 0px #f4c6d1;
      border: 2px solid black;
      border-radius: 0px;
      transition: all 0.3s ease-in-out;
      margin: 8px;
    }
    
    #showTopsButton:hover, #showBottomsButton:hover, #showOtherButton:hover {
      background-color: white;
      color: black;
      border: 2px solid black;
    }
    
    #showTopsButton:active, #showBottomsButton:active, #showOtherButton:active {
      background-color: #f4c6d1;
      color: black;
      box-shadow: 2px 2px #e09bae;
      transform: translateY(2px) translateX(2px);
    }
    button {
      background-color: black;
      color: white;
      font-size: 0.8rem;
      padding: 6px 12px;
      border: none;
      border-radius: 20px;
      margin: 5px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      font-family: 'Playfair Display', serif;
      font-style: italic;
      margin: 10px;
      text-transform: capitalize;
    }

    button:hover {
      background-color: white;
      color: black;
      

    }
    .stylebutton {
      display: inline-block;
      cursor: pointer;
      text-transform: capitalize;
      color: white;
      font-family: 'Press Start 2P', cursive;
      font-size: 1rem;
      font-weight: bold;
      padding: 8px 16px;
      text-decoration: none;
      background-color: black;
      text-shadow: 2px 2px #f4c6d1;
      box-shadow: 4px 4px 0px 0px #f4c6d1;
      border: 2px solid black;
      border-radius: 0px;
      transition: all 0.3s ease-in-out;
      margin: 8px;
    }

    .stylebutton:hover {
      background-color: white;
      color: black;
      border: 2px solid black;
      transform: scale(1.05);
    }

    .stylebutton:active {
      background-color: #f4c6d1;
      color: black;
      box-shadow: 2px 2px #e09bae;
      transform: translateY(2px) translateX(2px);
    }
    .hidden {
      display: none;
    }

    .date-notes {
      margin-top: 20px;
    }

    .date-notes input, .date-notes textarea {
      width: 80%;
      padding: 8px;
      margin-bottom: 10px;
      font-size: 14px;
      margin-left: 10%
    }

    .log-button {
      background-color: black;
      color: white;
      font-size: 0.8rem;
      padding: 6px 12px;
      border: none;
      border-radius: 20px;
      margin: 5px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      font-family: 'Playfair Display', serif;
      font-style: italic;
      margin: 10px;
      text-transform: capitalize;
      margin-left: 10%
    }

    .log-button:hover {
      background-color: white;
      color: black;
    }
    .log-button:active {
    transform: scale(0.98);
    }
.date-notes input{
  width: 80%;
  padding: 8px;
  margin-bottom: 10px;
  font-size: 9px;
  margin-left: 10%;
font-family: 'Press Start 2P', cursive;
font-style: bold;
color: black;

}

.date-notes textarea {
      font-family: 'Press Start 2P', cursive;
      font-size: 10px;
      }

  </style>
</head>
<body>
  <div class="header">
    <h1>OUTFIT LOG</h1>
    <div class="header-links">
      <a href="index.html" class="stylebutton"><3 Back to Home <3</a>
      <a href="log.html" class="stylebutton">View Logged Outfits</a>
    </div>
  </div>
  <div class="container">


    <!-- Buttons for Tops, Bottoms, and Other categories -->
    <button id="showTopsButton">Tops</button>
    <button id="showBottomsButton">Bottoms</button>
    <button id="showOtherButton">Other</button>

    <!-- Subcategory buttons for Tops -->
    <div id="topsButtons" class="hidden">
      <button data-folder="tubeTops">Tube Tops</button>
      <button data-folder="tankTops">Tank Tops</button>
      <button data-folder="teeShirts">Tee Shirts</button>
      <button data-folder="longSleeves">Long Sleeves</button>
    </div>

    <!-- Subcategory buttons for Bottoms -->
    <div id="bottomsButtons" class="hidden">
      <button data-folder="jeans">Jeans</button>
      <button data-folder="skirts">Skirts</button>
      <button data-folder="otherPants">Other Pants</button>
      <button data-folder="shorts">Shorts</button>
    </div>

    <!-- Subcategory buttons for Other -->
    <div id="otherButtons" class="hidden">
      <button data-folder="jackets">Jackets</button>
      <button data-folder="shoes">Shoes</button>
    </div>

    <!-- Displaying image thumbnails -->
    <div class="image-gallery" id="imageGallery">
      <!-- Thumbnails will be dynamically inserted here -->
    </div>

    <!-- Outfit Log -->
    <div class="outfit-log" id="outfitLog">
    <div style="width: 40%; float:left">
         <h2>Outfit for Today:</h2>
      <ul id="logList">
        <!-- Selected outfits will appear here -->
      </ul>
</div>

<div style="width: 60%; float:right">
       <div class="date-notes">
      <input type="date" id="outfitDate" placeholder="Select Date">
      <textarea id="outfitNotes" placeholder="Add Notes" rows="4" cols="50"></textarea>
      <button class="log-button" id="logOutfitButton">Log Outfit</button>
    </div>
</div>

    </div>



  </div>

  <script>
    const imageGallery = document.getElementById('imageGallery');
    const outfitLog = document.getElementById('outfitLog');
    const logList = document.getElementById('logList');

    // Buttons for Tops, Bottoms, and Other categories
    const showTopsButton = document.getElementById('showTopsButton');
    const showBottomsButton = document.getElementById('showBottomsButton');
    const showOtherButton = document.getElementById('showOtherButton');

    // Subcategory buttons
    const topsButtons = document.getElementById('topsButtons');
    const bottomsButtons = document.getElementById('bottomsButtons');
    const otherButtons = document.getElementById('otherButtons');

    // Date and Notes input
    const outfitDate = document.getElementById('outfitDate');
    const outfitNotes = document.getElementById('outfitNotes');
    const logOutfitButton = document.getElementById('logOutfitButton');

    // Folders for each category
    const folders = {
      tops: ['tubeTops', 'tankTops', 'teeShirts', 'longSleeves'],
      bottoms: ['jeans', 'skirts', 'otherPants', 'shorts'],
      other: ['jackets', 'shoes']
    };

    // Function to display the images as thumbnails
    function displayThumbnails(folderNames) {
      imageGallery.innerHTML = ''; // Clear the gallery

      folderNames.forEach(folder => {
        for (let i = 1; i <= 100; i++) {
          const imgElement = document.createElement('img');
          const imgSrc = `images/${folder}/${i}.png`;

          // Create a new image to check if the photo exists
          const img = new Image();
          img.src = imgSrc;

          img.onload = function() {
            // If image is loaded successfully, add it to the gallery
            imgElement.src = imgSrc;
            imgElement.alt = `${folder} ${i}`;
            imgElement.onclick = () => addToOutfitLog(imgSrc);

            imageGallery.appendChild(imgElement);
          };

          img.onerror = function() {
            // If the image can't be loaded, break the loop for this folder
            console.log(`No ${i}.png found in ${folder}. Stopping further attempts.`);
            return;  // Break the loop by returning early
          };
        }
      });
    }

    // Function to add an item to the outfit log
    function addToOutfitLog(imageSrc) {
      const listItem = document.createElement('li');
      const imageElement = document.createElement('img');
      imageElement.src = imageSrc;
      imageElement.style.width = '100px';
      imageElement.style.height = '100px';

      const deleteButton = document.createElement('button');
      deleteButton.textContent = 'Delete';
      deleteButton.onclick = () => {
        listItem.remove();
      };

      listItem.appendChild(imageElement);
      listItem.appendChild(deleteButton);
      logList.appendChild(listItem);
    }

    // Function to log the outfit with the selected date and notes
function logOutfit() {
  const date = outfitDate.value;
  const notes = outfitNotes.value;
  const items = Array.from(logList.children).map(item => item.querySelector('img').src);

  if (date && items.length > 0) {
    let outfits = JSON.parse(localStorage.getItem('outfits')) || [];
    outfits.push({ date, notes, items });
    localStorage.setItem('outfits', JSON.stringify(outfits));

    alert('Outfit logged successfully!');
    outfitDate.value = '';
    outfitNotes.value = '';
    logList.innerHTML = ''; // Clear UI
    loadLoggedOutfits(); // Refresh log display
  } else {
    alert('Please select a date and add items to your outfit log!');
  }
}

    // Event listeners for category buttons
    showTopsButton.addEventListener('click', () => {
      topsButtons.classList.toggle('hidden');
      bottomsButtons.classList.add('hidden'); // Hide bottoms buttons if open
      otherButtons.classList.add('hidden'); // Hide other buttons if open
      imageGallery.innerHTML = ''; // Clear gallery when switching
    });

    showBottomsButton.addEventListener('click', () => {
      bottomsButtons.classList.toggle('hidden');
      topsButtons.classList.add('hidden'); // Hide tops buttons if open
      otherButtons.classList.add('hidden'); // Hide other buttons if open
      imageGallery.innerHTML = ''; // Clear gallery when switching
    });

    showOtherButton.addEventListener('click', () => {
      otherButtons.classList.toggle('hidden');
      topsButtons.classList.add('hidden'); // Hide tops buttons if open
      bottomsButtons.classList.add('hidden'); // Hide bottoms buttons if open
      imageGallery.innerHTML = ''; // Clear gallery when switching
    });

    // Event listener for subcategory buttons
    topsButtons.addEventListener('click', (e) => {
      if (e.target.dataset.folder) {
        displayThumbnails([e.target.dataset.folder]);
      }
    });

    bottomsButtons.addEventListener('click', (e) => {
      if (e.target.dataset.folder) {
        displayThumbnails([e.target.dataset.folder]);
      }
    });

    otherButtons.addEventListener('click', (e) => {
      if (e.target.dataset.folder) {
        displayThumbnails([e.target.dataset.folder]);
      }
    });

    // Event listener for Log Outfit button
    logOutfitButton.addEventListener('click', logOutfit);

  </script>
</body>
</html>
